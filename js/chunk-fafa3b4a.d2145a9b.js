(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fafa3b4a"],{1276:function(t,e,r){"use strict";var a=r("d784"),n=r("44e7"),i=r("825a"),s=r("1d80"),o=r("4840"),c=r("8aa5"),u=r("50c4"),l=r("14c3"),d=r("9263"),h=r("d039"),f=[].push,b=Math.min,g=4294967295,p=!h((function(){return!RegExp(g,"y")}));a("split",2,(function(t,e,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var a=String(s(this)),i=void 0===r?g:r>>>0;if(0===i)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,i);var o,c,u,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),b=0,p=new RegExp(t.source,h+"g");while(o=d.call(p,a)){if(c=p.lastIndex,c>b&&(l.push(a.slice(b,o.index)),o.length>1&&o.index<a.length&&f.apply(l,o.slice(1)),u=o[0].length,b=c,l.length>=i))break;p.lastIndex===o.index&&p.lastIndex++}return b===a.length?!u&&p.test("")||l.push(""):l.push(a.slice(b)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var n=s(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n,r):a.call(String(n),e,r)},function(t,n){var s=r(a,t,this,n,a!==e);if(s.done)return s.value;var d=i(t),h=String(this),f=o(d,RegExp),v=d.unicode,m=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"y":"g"),y=new f(p?d:"^(?:"+d.source+")",m),D=void 0===n?g:n>>>0;if(0===D)return[];if(0===h.length)return null===l(y,h)?[h]:[];var w=0,x=0,k=[];while(x<h.length){y.lastIndex=p?x:0;var O,j=l(y,p?h:h.slice(x));if(null===j||(O=b(u(y.lastIndex+(p?0:x)),h.length))===w)x=c(h,x,v);else{if(k.push(h.slice(w,x)),k.length===D)return k;for(var S=1;S<=j.length-1;S++)if(k.push(j[S]),k.length===D)return k;x=w=O}}return k.push(h.slice(w)),k}]}),!p)},"3e9a":function(t,e,r){"use strict";r("d3b7"),r("96cf");var a=r("1da1"),n=r("d4ec"),i=r("bee2"),s=function(){function t(){Object(n["a"])(this,t),this.sortingDirection=-1}return Object(i["a"])(t,[{key:"sort",value:function(t){var e=t.array,r=t.sortCallback,a=t.orderArray,n=t.dataObjKey;return r({objsArray:e,sortDirection:this.sortingDirection,orderArray:a,dataObjKey:n}),this.sortingDirection*=-1,-1*this.sortingDirection}},{key:"clearDirection",value:function(){this.sortingDirection=-1}}]),t}(),o=(r("45fc"),r("b0c0"),r("45eb")),c=r("7e84"),u=r("262e"),l=r("2caf"),d=r("b85c"),h=r("0de2"),f=["clients","agents","finances"];function b(t){return f.some((function(e){return e===t}))}function g(t,e){var r,a=[],n=Object(d["a"])(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,s={};for(var o in e){var c=e[o].key;e[o].convertingValue?s[o]=e[o].convertingValue(i[c]):s[o]=i[c]}a.push(s)}}catch(u){n.e(u)}finally{n.f()}return a}var p=function(t){Object(u["a"])(r,t);var e=Object(l["a"])(r);function r(t){var a;if(Object(n["a"])(this,r),!b(t))throw new Error("Невалидный значение tableContentKey переданное в конструктор");return a=e.call(this,"tablesDataEndpoints"),a.tableContentKey=t,a.pageSize=15,a}return Object(i["a"])(r,[{key:"fetchDataByPageNumber",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,a){var n,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={method:"GET",mode:"cors",headers:{Accept:"application/json"},credentials:"include"},i={page:e,itemsNumber:this.pageSize},t.next=4,Object(o["a"])(Object(c["a"])(r.prototype),"request",this).call(this,{props:i,options:n,key:this.tableContentKey});case 4:return s=t.sent,t.next=7,s.json();case 7:return u=t.sent,t.abrupt("return",g(u,a));case 9:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"fetchDataByFilter",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var a,n,i,s,u,l,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.name,a=e.format,n=d[0],i={name:n.name},s={method:"GET",mode:"cors",headers:{Accept:"application/json"},credentials:"include"},t.next=6,Object(o["a"])(Object(c["a"])(r.prototype),"request",this).call(this,{props:i,options:s,key:this.tableContentKey});case 6:return u=t.sent,t.next=9,u.json();case 9:return l=t.sent,t.abrupt("return",g(l,a));case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),r}(h["a"]),v=function(){return r.e("chunk-02a45784").then(r.bind(null,"06d6"))},m=function(){return r.e("chunk-18825e24").then(r.bind(null,"71d6"))};e["a"]={components:{DefaultTable:v,DefaultButton:m},data:function(){return{tableData:{},shadowTableDataLink:null,tableHeaders:{},sorters:{},format:{},sortingParams:{direction:0,key:""},loadedPageNumber:1,nameToFilterRequest:"",tableDataKey:"",tableDataService:null,showLoader:!0}},created:function(){for(var t in this.tableHeaders)this.sorters[t]=new s},beforeMount:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableDataService=new p(t.$router.currentRoute.meta.tableDataKey),e.next=3,t.tableDataService.fetchDataByPageNumber(1,t.format);case 3:t.tableData=e.sent,t.showLoader=!1;case 5:case"end":return e.stop()}}),e)})))()},computed:{getButtonStyles:function(){return{alignSelf:"center",padding:"15px"}}},methods:{doSorting:function(t,e){for(var r in this.sorters)r!==t&&this.sorters[r].clearDirection();var a=this.sorters[t].sort({array:this.tableData,sortCallback:e,orderArray:this.statusesOrderArray,dataObjKey:t});this.sortingParams.direction=a,this.sortingParams.key=t},loadExtraData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.tableDataService.fetchDataByPageNumber(t.loadedPageNumber+1,t.format);case 2:r=e.sent,Object.assign(t.tableData,r),t.loadedPageNumber++;case 5:case"end":return e.stop()}}),e)})))()},loadFilteredData:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return""===t&&e.resetFilteredSearch(),r.next=3,e.tableDataService.fetchDataByFilter({name:t,format:e.format});case 3:a=r.sent,e.shadowTableDataLink=e.tableData,e.tableData=a;case 6:case"end":return r.stop()}}),r)})))()},resetFilteredSearch:function(){null!==this.shadowTableDataLink&&(this.tableData=this.shadowTableDataLink,this.shadowTableDataLink=null)}}}},"44e7":function(t,e,r){var a=r("861d"),n=r("c6b6"),i=r("b622"),s=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},"58f3":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"no-side-gutters",attrs:{fluid:""}},[a("b-row",{staticClass:"mb-6"},[a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"card icon-card clients__card"},[a("img",{staticClass:"icon-card-img",attrs:{src:r("c2c2"),alt:""}}),a("div",{staticClass:"h5 text-center"},[t._v("Оплатившие договор")]),a("div",{staticClass:"h4"},[t._v(t._s(this.$store.getters["user/userData"].paidCustomersNumber))])])]),a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"card icon-card clients__card"},[a("img",{staticClass:"icon-card-img",attrs:{src:r("c6e1"),alt:""}}),a("div",{staticClass:"h5 text-center"},[t._v("Всего клиентов")]),a("div",{staticClass:"h4"},[t._v(t._s(this.$store.getters["user/userData"].customersNumber))])])])],1),a("b-row",[a("b-col",{staticClass:"px-0",attrs:{cols:"12"}},[a("DefaultTable",{directives:[{name:"show",rawName:"v-show",value:!t.showLoader,expression:"!showLoader"}],staticClass:"card px-md-8 px-lg-13 py-6 mb-6",attrs:{"table-data":t.tableData,title:"Клиенты","sorting-key":t.sortingParams.key,"sorting-direction":t.sortingParams.direction,headers:t.tableHeaders,"show-loader":t.showLoader,searcher:"","searcher-placeholder":"Поиск клиентов","colorized-key":"clientStatus","colorized-class-getter":t.getStatusColorClass},on:{requestFilteredData:function(e){return t.loadFilteredData(e)},resetFilter:function(e){return t.resetFilteredSearch()},sort:t.sortByHeader},scopedSlots:t._u([{key:"afterTable",fn:function(){return[a("DefaultButton",{style:t.getButtonStyles,attrs:{text:"Показать еще"},on:{click:t.loadExtraData}})]},proxy:!0}])})],1)],1)],1)},n=[],i=(r("fb6a"),r("3e9a")),s={date:"Дата",clientName:"Фамилия Имя Отчество",clientID:"ID Клиента",clientStatus:"Статус"},o=r("bd25"),c={mixins:[i["a"]],data:function(){return{tableData:[],format:{date:{key:"registrationDate"},tableDataKey:{key:"name"},clientID:{key:"id",convertingValue:function(t){return"0000".concat(t).slice(-4)}},clientStatus:{key:"active",convertingValue:function(t){return t?"Успешно":"В работе"}}},tableHeaders:s,statusesOrderArray:["Успешно","В обработке","Отказ"]}},created:function(){this.tableDataKey="clients"},methods:{getStatusColorClass:function(t){switch(t){case"Успешно":return"green";case"В работе":return"orange";case"Отказ":return"red";default:break}},sortByHeader:function(t){switch(t){case"date":return void this.doSorting(t,o["b"]);case"clientName":return void this.doSorting(t,o["a"]);case"clientID":return void this.doSorting(t,o["c"]);case"clientStatus":return void this.doSorting(t,o["d"]);default:throw new Error}}}},u=c,l=(r("a9e4"),r("2877")),d=Object(l["a"])(u,a,n,!1,null,"288342da",null);e["default"]=d.exports},a9e4:function(t,e,r){"use strict";r("bede")},bd25:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return s}));r("c975"),r("ac1f"),r("1276");function a(t){var e=t.objsArray,r=t.sortDirection,a=t.dataObjKey,n=function(t,e){return t=t[a].split("/"),e=e[a].split("/"),r*(new Date(t[2],t[1],t[0])-new Date(e[2],e[1],e[0]))};e.sort(n)}function n(t){var e=t.objsArray,r=t.sortDirection,a=t.dataObjKey;e.sort((function(t,e){return r*t[a].localeCompare(e[a])}))}function i(t){var e=t.objsArray,r=t.sortDirection,a=t.dataObjKey;e.sort((function(t,e){return r*(t[a]-e[a])}))}function s(t){var e=t.objsArray,r=t.sortDirection,a=t.orderArray,n=t.dataObjKey;e.sort((function(t,e){return r*(a.indexOf(t[n])-a.indexOf(e[n]))}))}},bede:function(t,e,r){},c2c2:function(t,e,r){t.exports=r.p+"img/piggy-bank.6a6a8d57.svg"},c6e1:function(t,e,r){t.exports=r.p+"img/clients-above-hand.944344da.svg"},c975:function(t,e,r){"use strict";var a=r("23e7"),n=r("4d64").indexOf,i=r("a640"),s=r("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?o.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);